{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Equipo/Downloads/AppAnime/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@ionic/angular\";\nimport * as i4 from \"@angular/forms\";\nexport let RegisterPage = /*#__PURE__*/(() => {\n  class RegisterPage {\n    authService;\n    router;\n    alertController;\n    loadingController;\n    fullName = '';\n    email = '';\n    password = '';\n    confirmPassword = '';\n    showPassword = false;\n    showConfirmPassword = false;\n    constructor(authService, router, alertController, loadingController) {\n      this.authService = authService;\n      this.router = router;\n      this.alertController = alertController;\n      this.loadingController = loadingController;\n    }\n    ngOnInit() {}\n    // Registro con email y contraseña\n    register() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        if (!_this.validateForm()) {\n          return;\n        }\n        const loading = yield _this.loadingController.create({\n          message: 'Creando cuenta...',\n          spinner: 'crescent'\n        });\n        yield loading.present();\n        _this.authService.register(_this.email, _this.password, _this.fullName).subscribe({\n          next: function () {\n            var _ref = _asyncToGenerator(function* (user) {\n              yield loading.dismiss();\n              yield _this.showAlert('¡Cuenta creada!', 'Tu cuenta ha sido creada exitosamente. Ahora puedes iniciar sesión.');\n              _this.router.navigate(['/login']);\n            });\n            return function next(_x) {\n              return _ref.apply(this, arguments);\n            };\n          }(),\n          error: function () {\n            var _ref2 = _asyncToGenerator(function* (_error) {\n              yield loading.dismiss();\n              yield _this.showAlert('Error', _error.message || 'No se pudo crear la cuenta');\n            });\n            return function error(_x2) {\n              return _ref2.apply(this, arguments);\n            };\n          }()\n        });\n      })();\n    }\n    // Registro con Google\n    registerWithGoogle() {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        const loading = yield _this2.loadingController.create({\n          message: 'Conectando con Google...',\n          spinner: 'crescent'\n        });\n        yield loading.present();\n        _this2.authService.loginWithGoogle().subscribe({\n          next: function () {\n            var _ref3 = _asyncToGenerator(function* (user) {\n              yield loading.dismiss();\n              yield _this2.showAlert('¡Bienvenido!', `Hola ${user.fullName}`);\n              _this2.router.navigate(['/home']);\n            });\n            return function next(_x3) {\n              return _ref3.apply(this, arguments);\n            };\n          }(),\n          error: function () {\n            var _ref4 = _asyncToGenerator(function* (_error2) {\n              yield loading.dismiss();\n              yield _this2.showAlert('Error', 'No se pudo conectar con Google');\n            });\n            return function error(_x4) {\n              return _ref4.apply(this, arguments);\n            };\n          }()\n        });\n      })();\n    }\n    // Ir a login\n    goToLogin() {\n      this.router.navigate(['/login']);\n    }\n    // Validar formulario\n    validateForm() {\n      if (!this.fullName || !this.email || !this.password || !this.confirmPassword) {\n        this.showAlert('Error', 'Por favor completa todos los campos');\n        return false;\n      }\n      if (this.fullName.trim().length < 3) {\n        this.showAlert('Error', 'El nombre debe tener al menos 3 caracteres');\n        return false;\n      }\n      const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n      if (!emailPattern.test(this.email)) {\n        this.showAlert('Error', 'Por favor ingresa un email válido');\n        return false;\n      }\n      if (this.password.length < 6) {\n        this.showAlert('Error', 'La contraseña debe tener al menos 6 caracteres');\n        return false;\n      }\n      if (this.password !== this.confirmPassword) {\n        this.showAlert('Error', 'Las contraseñas no coinciden');\n        return false;\n      }\n      return true;\n    }\n    // Toggle visibilidad de contraseña\n    togglePasswordVisibility() {\n      this.showPassword = !this.showPassword;\n    }\n    // Toggle visibilidad de confirmación de contraseña\n    toggleConfirmPasswordVisibility() {\n      this.showConfirmPassword = !this.showConfirmPassword;\n    }\n    // Mostrar alerta\n    showAlert(header, message) {\n      var _this3 = this;\n      return _asyncToGenerator(function* () {\n        const alert = yield _this3.alertController.create({\n          header,\n          message,\n          buttons: ['OK']\n        });\n        yield alert.present();\n      })();\n    }\n    static ɵfac = function RegisterPage_Factory(t) {\n      return new (t || RegisterPage)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.AlertController), i0.ɵɵdirectiveInject(i3.LoadingController));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: RegisterPage,\n      selectors: [[\"app-register\"]],\n      decls: 45,\n      vars: 10,\n      consts: [[3, \"translucent\"], [\"color\", \"dark\"], [\"slot\", \"start\"], [\"defaultHref\", \"/login\", \"text\", \"\"], [1, \"register-content\", 3, \"fullscreen\"], [1, \"register-container\"], [1, \"header-section\"], [\"name\", \"person-add-outline\", 1, \"register-icon\"], [1, \"subtitle\"], [1, \"form-section\"], [1, \"register-card\"], [\"lines\", \"none\", 1, \"input-item\"], [\"name\", \"person-outline\", \"slot\", \"start\"], [\"type\", \"text\", \"placeholder\", \"Nombre completo\", \"autocomplete\", \"name\", 3, \"ngModelChange\", \"ngModel\"], [\"name\", \"mail-outline\", \"slot\", \"start\"], [\"type\", \"email\", \"placeholder\", \"Correo electr\\u00F3nico\", \"autocomplete\", \"email\", 3, \"ngModelChange\", \"ngModel\"], [\"name\", \"lock-closed-outline\", \"slot\", \"start\"], [\"placeholder\", \"Contrase\\u00F1a\", \"autocomplete\", \"new-password\", 3, \"ngModelChange\", \"type\", \"ngModel\"], [\"slot\", \"end\", 1, \"password-toggle\", 3, \"click\", \"name\"], [\"placeholder\", \"Confirmar contrase\\u00F1a\", \"autocomplete\", \"new-password\", 3, \"ngModelChange\", \"type\", \"ngModel\"], [\"expand\", \"block\", 1, \"register-button\", 3, \"click\"], [\"name\", \"create-outline\", \"slot\", \"start\"], [1, \"divider\"], [\"expand\", \"block\", \"fill\", \"outline\", 1, \"google-button\", 3, \"click\"], [\"name\", \"logo-google\", \"slot\", \"start\"], [1, \"login-link\"], [1, \"link-text\", 3, \"click\"]],\n      template: function RegisterPage_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\", 1)(2, \"ion-buttons\", 2);\n          i0.ɵɵelement(3, \"ion-back-button\", 3);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"ion-title\");\n          i0.ɵɵtext(5, \"Registro\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(6, \"ion-content\", 4)(7, \"div\", 5)(8, \"div\", 6);\n          i0.ɵɵelement(9, \"ion-icon\", 7);\n          i0.ɵɵelementStart(10, \"h2\");\n          i0.ɵɵtext(11, \"Crear Cuenta\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"p\", 8);\n          i0.ɵɵtext(13, \"\\u00DAnete a AnimeReview\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(14, \"div\", 9)(15, \"ion-card\", 10)(16, \"ion-card-content\")(17, \"ion-item\", 11);\n          i0.ɵɵelement(18, \"ion-icon\", 12);\n          i0.ɵɵelementStart(19, \"ion-input\", 13);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function RegisterPage_Template_ion_input_ngModelChange_19_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.fullName, $event) || (ctx.fullName = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(20, \"ion-item\", 11);\n          i0.ɵɵelement(21, \"ion-icon\", 14);\n          i0.ɵɵelementStart(22, \"ion-input\", 15);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function RegisterPage_Template_ion_input_ngModelChange_22_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.email, $event) || (ctx.email = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(23, \"ion-item\", 11);\n          i0.ɵɵelement(24, \"ion-icon\", 16);\n          i0.ɵɵelementStart(25, \"ion-input\", 17);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function RegisterPage_Template_ion_input_ngModelChange_25_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.password, $event) || (ctx.password = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(26, \"ion-icon\", 18);\n          i0.ɵɵlistener(\"click\", function RegisterPage_Template_ion_icon_click_26_listener() {\n            return ctx.togglePasswordVisibility();\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(27, \"ion-item\", 11);\n          i0.ɵɵelement(28, \"ion-icon\", 16);\n          i0.ɵɵelementStart(29, \"ion-input\", 19);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function RegisterPage_Template_ion_input_ngModelChange_29_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.confirmPassword, $event) || (ctx.confirmPassword = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(30, \"ion-icon\", 18);\n          i0.ɵɵlistener(\"click\", function RegisterPage_Template_ion_icon_click_30_listener() {\n            return ctx.toggleConfirmPasswordVisibility();\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(31, \"ion-button\", 20);\n          i0.ɵɵlistener(\"click\", function RegisterPage_Template_ion_button_click_31_listener() {\n            return ctx.register();\n          });\n          i0.ɵɵelement(32, \"ion-icon\", 21);\n          i0.ɵɵtext(33, \" Crear Cuenta \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(34, \"div\", 22)(35, \"span\");\n          i0.ɵɵtext(36, \"o reg\\u00EDstrate con\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(37, \"ion-button\", 23);\n          i0.ɵɵlistener(\"click\", function RegisterPage_Template_ion_button_click_37_listener() {\n            return ctx.registerWithGoogle();\n          });\n          i0.ɵɵelement(38, \"ion-icon\", 24);\n          i0.ɵɵtext(39, \" Google \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(40, \"div\", 25)(41, \"p\");\n          i0.ɵɵtext(42, \" \\u00BFYa tienes cuenta? \");\n          i0.ɵɵelementStart(43, \"span\", 26);\n          i0.ɵɵlistener(\"click\", function RegisterPage_Template_span_click_43_listener() {\n            return ctx.goToLogin();\n          });\n          i0.ɵɵtext(44, \"Inicia sesi\\u00F3n\");\n          i0.ɵɵelementEnd()()()()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"translucent\", true);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"fullscreen\", true);\n          i0.ɵɵadvance(13);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.fullName);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.email);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"type\", ctx.showPassword ? \"text\" : \"password\");\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.password);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"name\", ctx.showPassword ? \"eye-off-outline\" : \"eye-outline\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"type\", ctx.showConfirmPassword ? \"text\" : \"password\");\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.confirmPassword);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"name\", ctx.showConfirmPassword ? \"eye-off-outline\" : \"eye-outline\");\n        }\n      },\n      dependencies: [i4.NgControlStatus, i4.NgModel, i3.IonButton, i3.IonButtons, i3.IonCard, i3.IonCardContent, i3.IonContent, i3.IonHeader, i3.IonIcon, i3.IonInput, i3.IonItem, i3.IonTitle, i3.IonToolbar, i3.TextValueAccessor, i3.IonBackButton],\n      styles: [\".register-content[_ngcontent-%COMP%]{--background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)}.register-container[_ngcontent-%COMP%]{padding:20px;min-height:100%}.header-section[_ngcontent-%COMP%]{text-align:center;margin:20px 0 30px;animation:_ngcontent-%COMP%_fadeInDown .8s ease}.header-section[_ngcontent-%COMP%]   .register-icon[_ngcontent-%COMP%]{font-size:60px;color:#e94560;margin-bottom:15px;filter:drop-shadow(0 0 15px rgba(233,69,96,.5))}.header-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#fff;margin:0 0 8px}.header-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#ffffffb3;font-size:14px;margin:0}.form-section[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease}.register-card[_ngcontent-%COMP%]{background:#ffffff0d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:20px;box-shadow:0 8px 32px #0000004d}.register-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:25px 20px}.input-item[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .1);--border-radius: 12px;margin-bottom:14px;border-radius:12px}.input-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#e94560;margin-right:12px}.input-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--color: #ffffff;--placeholder-color: rgba(255, 255, 255, .5)}.input-item[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]{cursor:pointer;color:#fff9}.input-item[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]:hover{color:#e94560}.register-button[_ngcontent-%COMP%]{--background: linear-gradient(135deg, #e94560 0%, #d63447 100%);--border-radius: 12px;margin-top:20px;height:50px;font-weight:600;text-transform:none;font-size:16px;box-shadow:0 4px 15px #e9456066}.divider[_ngcontent-%COMP%]{text-align:center;margin:20px 0;position:relative}.divider[_ngcontent-%COMP%]:before, .divider[_ngcontent-%COMP%]:after{content:\\\"\\\";position:absolute;top:50%;width:40%;height:1px;background:#fff3}.divider[_ngcontent-%COMP%]:before{left:0}.divider[_ngcontent-%COMP%]:after{right:0}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff9;font-size:14px;padding:0 10px}.google-button[_ngcontent-%COMP%]{--border-color: rgba(255, 255, 255, .3);--border-width: 2px;--border-radius: 12px;--color: #ffffff;height:50px;text-transform:none;font-size:16px}.login-link[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.login-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffb3;font-size:14px;margin:0}.login-link[_ngcontent-%COMP%]   .link-text[_ngcontent-%COMP%]{color:#e94560;font-weight:600;cursor:pointer;text-decoration:underline}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}\"]\n    });\n  }\n  return RegisterPage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}