{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Equipo/Downloads/AppAnime/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { from } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./storage.service\";\nexport let ReviewService = /*#__PURE__*/(() => {\n  class ReviewService {\n    storageService;\n    constructor(storageService) {\n      this.storageService = storageService;\n    }\n    // Crear o actualizar review\n    saveReview(review) {\n      return from(this.storageService.saveReview(review));\n    }\n    // Obtener todas las reviews\n    getAllReviews() {\n      return from(this.storageService.getAllReviews());\n    }\n    // Obtener reviews por anime\n    getReviewsByAnime(animeId) {\n      return from(this.storageService.getReviewsByAnime(animeId));\n    }\n    // Obtener reviews por usuario\n    getReviewsByUser(userId) {\n      return from(this.storageService.getReviewsByUser(userId));\n    }\n    // Eliminar review\n    deleteReview(reviewId) {\n      return from(this.storageService.deleteReview(reviewId));\n    }\n    // Verificar si el usuario ya dejó una review para un anime\n    hasUserReviewed(userId, animeId) {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        const reviews = yield _this.storageService.getReviewsByAnime(animeId);\n        return reviews.some(r => r.userId === userId);\n      })();\n    }\n    // Obtener review del usuario para un anime específico\n    getUserReviewForAnime(userId, animeId) {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        const reviews = yield _this2.storageService.getReviewsByAnime(animeId);\n        const userReview = reviews.find(r => r.userId === userId);\n        return userReview || null;\n      })();\n    }\n    static ɵfac = function ReviewService_Factory(t) {\n      return new (t || ReviewService)(i0.ɵɵinject(i1.StorageService));\n    };\n    static ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: ReviewService,\n      factory: ReviewService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return ReviewService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}